{"version":3,"file":"js/897.96bb9d3f.js","mappings":"iJAAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACA,EAAG,OAAO,CAACE,GAAG,CAAC,OAAS,SAASC,GAAgC,OAAxBA,EAAOC,iBAAwBN,EAAIO,WAAWC,MAAM,KAAMC,UAAU,IAAI,CAACP,EAAG,QAAQ,CAACF,EAAIU,GAAG,cAAcR,EAAG,QAAQ,CAACS,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOd,EAAU,OAAEe,WAAW,WAAWC,MAAM,CAAC,KAAO,OAAO,SAAW,IAAIC,SAAS,CAAC,MAASjB,EAAU,QAAGI,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOa,OAAOC,YAAiBnB,EAAIoB,OAAOf,EAAOa,OAAOJ,MAAK,OAAOZ,EAAG,SAAS,CAACc,MAAM,CAAC,KAAO,WAAW,CAAChB,EAAIU,GAAG,oBACvhB,EACIW,EAAkB,GCmBtB,G,OAAA,CACEC,OACE,MAAO,CACLF,OAAQ,GACRG,OAAQ,GAEZ,EACAC,QAAS,CAsBPC,mBACEC,QAAQC,IAAI,cAAc,UAAU1B,KAAKmB,QACzC,MAAMQ,EAAM,0BAA0B3B,KAAKmB,SACrCS,QAAiBC,MAAMF,EAAK,CAAEG,OAAQ,WACxCF,EAASG,IACXC,MAAM,8BAELhC,KAAKmB,OAAQ,GACdnB,KAAKsB,OAAQ,IAEbU,MAAM,yBAEV,KC9DmI,I,OCOnIC,GAAY,OACd,EACAnC,EACAsB,GACA,EACA,KACA,KACA,MAIF,EAAea,EAAiB,O","sources":["webpack://tmp/./src/views/deleteBook.vue?8848","webpack://tmp/src/deleteBook.vue","webpack://tmp/./src/views/deleteBook.vue?21a5","webpack://tmp/./src/views/deleteBook.vue"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.deleteBook.apply(null, arguments)}}},[_c('label',[_vm._v(\" Book ID: \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.bookid),expression:\"bookid\"}],attrs:{\"type\":\"text\",\"required\":\"\"},domProps:{\"value\":(_vm.bookid)},on:{\"input\":function($event){if($event.target.composing)return;_vm.bookid=$event.target.value}}})]),_c('button',{attrs:{\"type\":\"submit\"}},[_vm._v(\"delete Book\")])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n  <form @submit.prevent=\"deleteBook\">\r\n    <label>\r\n      Book ID:\r\n      <input v-model=\"bookid\" type=\"text\" required />\r\n    </label>\r\n<!--\r\n    <label>\r\n      user ID:\r\n      <input v-model=\"userid\" type=\"text\" required />\r\n    </label>\r\n-->\r\n    <button type=\"submit\">delete Book</button>\r\n  </form>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport 'whatwg-fetch';\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      bookid: \"\",\r\n      userid: \"\",\r\n    };\r\n  },\r\n  methods: {\r\n    /*\r\n    deleteBook() {\r\n      console.log('deleteBook,','bookid:',this.bookid)\r\n    //fetch(`http://localhost:8080/staff/material/delete/${this.bookid}`, {\r\n      fetch(`/staff/material/delete/${this.bookid}`, {\r\n      method: 'DELETE'\r\n    })\r\n    .then(response => {\r\n      // 处理响应数据\r\n      console.log('成功了',response);\r\n      alert('Book deleted successfully!');\r\n      this.bookid= \"\",\r\n        this.userid= \"\"\r\n    })\r\n    .catch(error => {\r\n      // 处理错误\r\n      alert('Failed to add book.');\r\n      console.error('失败了',error);\r\n    });\r\n  },*/\r\n\r\n    async deleteBook() {\r\n      console.log('deleteBook,','bookid:',this.bookid)\r\n      const url = `/staff/material/delete/${this.bookid}` \r\n      const response = await fetch(url, { method: 'DELETE' });\r\n      if (response.ok) {\r\n        alert('Book deleted successfully!');\r\n        // 重置表单\r\n         this.bookid= \"\",\r\n        this.userid= \"\"\r\n      } else {\r\n        alert('Failed to delete book.');\r\n      }\r\n    }\r\n\r\n\r\n  },\r\n};\r\n</script>","import mod from \"-!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./deleteBook.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./deleteBook.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./deleteBook.vue?vue&type=template&id=3bcbc0f8&\"\nimport script from \"./deleteBook.vue?vue&type=script&lang=js&\"\nexport * from \"./deleteBook.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","on","$event","preventDefault","deleteBook","apply","arguments","_v","directives","name","rawName","value","expression","attrs","domProps","target","composing","bookid","staticRenderFns","data","userid","methods","async","console","log","url","response","fetch","method","ok","alert","component"],"sourceRoot":""}