webpackJsonp([1],{"IA/S":function(e,t){},Iy5g:function(e,t){},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("7+uW"),n={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var s=a("VU/8")({name:"App"},n,!1,function(e){a("gsu9")},null,null).exports,i=a("/ocq"),o={props:{data:{type:Array,required:!0},pageSize:{type:Number,default:10}},data:function(){return{currentPage:1}},computed:{totalPages:function(){return Math.ceil(this.data.length/this.pageSize)},itemsOnCurrentPage:function(){var e=(this.currentPage-1)*this.pageSize,t=e+this.pageSize;return this.data.slice(e,t)}},methods:{jumpToPage:function(){if(this.currentPage>0&&this.currentPage<=this.totalPages){var e=parseInt(this.currentPage);this.currentPage=e}},deleteItem:function(e){confirm("Are you sure you want to delete this item?")&&fetch("/staff/patron/delete/"+e,{method:"delete"}).then(function(e){e.ok?(alert("delete success"),window.location.reload()):console.error(e.message)}).catch(function(e){return console.error(e)})}}},l={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("table",[e._m(0),e._v(" "),a("tbody",e._l(e.itemsOnCurrentPage,function(t){return a("tr",{key:t.userid},[a("td",[e._v(e._s(t.userid))]),e._v(" "),a("td",[a("img",{attrs:{src:t.avatar,alt:t.username,width:"50",height:"50"}})]),e._v(" "),a("td",[e._v(e._s(t.username))]),e._v(" "),a("td",[e._v(e._s(t.telephone))]),e._v(" "),a("td",[e._v(e._s(t.email))]),e._v(" "),a("td",[a("button",{on:{click:function(a){return e.deleteItem(t.userid)}}},[e._v("Delete")])])])}),0)]),e._v(" "),a("div",{staticClass:"pagination"},[a("button",{attrs:{disabled:1===e.currentPage},on:{click:function(t){e.currentPage--}}},[e._v("Previous")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model.number",value:e.currentPage,expression:"currentPage",modifiers:{number:!0}}],staticStyle:{width:"50px","text-align":"center"},attrs:{type:"number",min:"1",max:"totalPages"},domProps:{value:e.currentPage},on:{input:function(t){t.target.composing||(e.currentPage=e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}}),e._v(" "),a("span",[e._v("/ "+e._s(e.totalPages))]),e._v(" "),a("button",{attrs:{disabled:e.currentPage===e.totalPages},on:{click:function(t){e.currentPage++}}},[e._v("Next")])])])},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("thead",[a("tr",[a("th",[e._v("Userid")]),e._v(" "),a("th",[e._v("Avatar")]),e._v(" "),a("th",[e._v("Username")]),e._v(" "),a("th",[e._v("Telephone")]),e._v(" "),a("th",[e._v("Email")]),e._v(" "),a("th",[e._v("Delete")])])])}]};var u=a("VU/8")(o,l,!1,function(e){a("Iy5g")},null,null).exports,c={data:function(){return{userId:"",password:"",firstName:"",lastName:"",email:"",telephone:""}},methods:{addRecord:function(){var e="/staff/patron/add/"+this.userId+"/"+this.password+"/"+this.firstName+"/"+this.lastName+"/"+this.email+"/"+this.telephone;fetch(e,{method:"POST"}).then(function(e){if(!e.ok)throw new Error(e.statusText);alert("Record added successfully!"),window.location.reload()}).catch(function(e){console.error(e),alert("Record could not be added.")})}}},d={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h2",[e._v("Add Record")]),e._v(" "),a("form",{staticStyle:{display:"inline-block"},on:{submit:function(t){return t.preventDefault(),e.addRecord.apply(null,arguments)}}},[a("div",{staticStyle:{display:"inline-block"}},[a("label",{attrs:{for:"userId"}},[e._v("User ID:")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.userId,expression:"userId"}],staticStyle:{display:"inline-block","margin-right":"10px"},attrs:{type:"text",id:"userId"},domProps:{value:e.userId},on:{input:function(t){t.target.composing||(e.userId=t.target.value)}}})]),e._v(" "),a("div",{staticStyle:{display:"inline-block"}},[a("label",{attrs:{for:"password"}},[e._v("Password:")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticStyle:{display:"inline-block","margin-right":"10px"},attrs:{type:"password",id:"password"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})]),e._v(" "),a("div",{staticStyle:{display:"inline-block"}},[a("label",{attrs:{for:"firstName"}},[e._v("First Name:")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.firstName,expression:"firstName"}],staticStyle:{display:"inline-block","margin-right":"10px"},attrs:{type:"text",id:"firstName"},domProps:{value:e.firstName},on:{input:function(t){t.target.composing||(e.firstName=t.target.value)}}})]),e._v(" "),a("div",{staticStyle:{display:"inline-block"}},[a("label",{attrs:{for:"lastName"}},[e._v("Last Name:")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.lastName,expression:"lastName"}],staticStyle:{display:"inline-block","margin-right":"10px"},attrs:{type:"text",id:"lastName"},domProps:{value:e.lastName},on:{input:function(t){t.target.composing||(e.lastName=t.target.value)}}})]),e._v(" "),a("div",{staticStyle:{display:"inline-block"}},[a("label",{attrs:{for:"email"}},[e._v("Email:")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticStyle:{display:"inline-block","margin-right":"10px"},attrs:{type:"email",id:"email"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}})]),e._v(" "),a("div",{staticStyle:{display:"inline-block"}},[a("label",{attrs:{for:"telephone"}},[e._v("Telephone:")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.telephone,expression:"telephone"}],staticStyle:{display:"inline-block","margin-right":"10px"},attrs:{type:"text",id:"telephone"},domProps:{value:e.telephone},on:{input:function(t){t.target.composing||(e.telephone=t.target.value)}}})]),e._v(" "),a("button",{attrs:{type:"submit"}},[e._v("Add Record")])])])},staticRenderFns:[]},p=a("VU/8")(c,d,!1,null,null,null).exports,v=a("Xxa5"),m=a.n(v),h=a("fZjL"),_=a.n(h),f=a("exGp"),g=a.n(f),y={data:function(){return{userid:"",showData:!1,data:{},errorMessage:""}},methods:{getData:function(){var e=this;return g()(m.a.mark(function t(){var a,r;return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("/staff/patron/show/"+e.userid);case 3:if((a=t.sent).ok){t.next=6;break}throw new Error("Request failed");case 6:return t.next=8,a.json();case 8:if(r=t.sent,0!==_()(r).length){t.next=11;break}throw new Error("Cannot find this patron");case 11:e.data=r,e.showData=!0,t.next=19;break;case 15:t.prev=15,t.t0=t.catch(0),console.error(t.t0),e.errorMessage="Cannot find this patron";case 19:case"end":return t.stop()}},t,e,[[0,15]])}))()},closePopup:function(){this.showData=!1},closeError:function(){this.errorMessage=""}}},w={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.userid,expression:"userid"}],attrs:{placeholder:"Enter userid"},domProps:{value:e.userid},on:{input:function(t){t.target.composing||(e.userid=t.target.value)}}}),e._v(" "),a("button",{on:{click:e.getData}},[e._v("Get Data")]),e._v(" "),e.showData?a("div",{staticClass:"popup"},[a("div",{staticClass:"content"},[a("button",{on:{click:e.closePopup}},[e._v("x")]),e._v(" "),a("h3",[e._v(e._s(e.data.userid))]),e._v(" "),a("img",{attrs:{src:e.data.avatar,alt:e.data.username,width:"50",height:"50"}}),e._v(" "),a("p",[a("strong",[e._v("Username:")]),e._v(" "+e._s(e.data.username))]),e._v(" "),a("p",[a("strong",[e._v("Telephone:")]),e._v(" "+e._s(e.data.telephone))]),e._v(" "),a("p",[a("strong",[e._v("Email:")]),e._v(" "+e._s(e.data.email))])])]):e._e(),e._v(" "),e.errorMessage?a("div",{staticClass:"popup"},[a("div",{staticClass:"content"},[a("button",{on:{click:e.closeError}},[e._v("x")]),e._v(" "),a("h3",[e._v("Error")]),e._v(" "),a("p",[e._v(e._s(e.errorMessage))])])]):e._e()])},staticRenderFns:[]};var b={components:{MyTable:u,AddRecord:p,ShowPatronData:a("VU/8")(y,w,!1,function(e){a("IA/S")},null,null).exports},data:function(){return{items:[]}},methods:{goBack:function(){window.location.href="/staff.html"}},mounted:function(){var e=this;fetch("/staff/patron/show/all").then(function(e){return e.json()}).then(function(t){e.items=t}).catch(function(e){return console.error(e)})}},x={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("button",{on:{click:this.goBack}},[this._v("back")]),this._v(" "),t("add-record"),this._v(" "),t("my-table",{attrs:{data:this.items}}),this._v(" "),t("show-patron-data")],1)},staticRenderFns:[]},P=a("VU/8")(b,x,!1,null,null,null).exports;r.a.use(i.a);var k=new i.a({routes:[{path:"/",name:"Layouts",component:P}]});r.a.config.productionTip=!1,new r.a({el:"#app",router:k,components:{App:s},template:"<App/>"})},gsu9:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.982c571254450fa1676b.js.map